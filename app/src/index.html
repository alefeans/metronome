<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metronome</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Dark Mode Toggle Button -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="sun-icon" style="display:none">
            <path d="M12 17.5C9.5 17.5 7.5 15.5 7.5 13S9.5 8.5 12 8.5 16.5 10.5 16.5 13 14.5 17.5 12 17.5M12 7C8.7 7 6 9.7 6 13S8.7 19 12 19 18 16.3 18 13 15.3 7 12 7M12 2L14.4 6.4L19 5.7L16.2 9.8L17.7 14.2L12.7 12.5L8.3 14.8L9.1 10.1L5.5 6.5L10.1 6.1L12 2M3.3 7L8 5.4L5.1 9.7L1 9.3L3.3 7M1 14L5.4 12.2L2.8 16.2L1 14M4.4 19.8L7.1 15.7L7.8 20.4L4.4 19.8M19.8 20.3L18.6 15.6L21.6 19.3L19.8 20.3M23 13.8L18.6 14.6L21.8 11L23 13.8M19.5 7.2L16.4 9.4L20.5 5L19.5 7.2Z"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="moon-icon">
            <path d="M17.75 4.09L15.22 6.03L16.13 9.09L13.5 7.28L10.87 9.09L11.78 6.03L9.25 4.09L12.44 4L13.5 1L14.56 4L17.75 4.09M21.25 11L19.61 12.25L20.2 14.23L18.5 13.06L16.8 14.23L17.39 12.25L15.75 11L17.81 10.95L18.5 9L19.19 10.95L21.25 11M18.97 15.95C19.8 15.87 20.69 17.05 20.16 17.8C19.84 18.25 19.5 18.67 19.08 19.07C15.17 23 8.84 23 4.94 19.07C1.03 15.17 1.03 8.83 4.94 4.93C5.34 4.53 5.76 4.17 6.21 3.85C6.96 3.32 8.14 4.21 8.06 5.04C7.79 7.9 8.75 10.87 10.95 13.06C13.14 15.26 16.1 16.22 18.97 15.95M17.33 17.97C14.5 17.81 11.7 16.64 9.53 14.5C7.36 12.31 6.2 9.5 6.04 6.68C3.23 9.82 3.34 14.64 6.35 17.66C9.37 20.67 14.19 20.78 17.33 17.97Z"/>
        </svg>
    </button>
    
    <div class="container">
        <header>
            <h1>Metronome</h1>
        </header>

        <main class="metronome">
            <!-- BPM Control Section -->
            <section class="bpm-section">
                <label for="bpm-slider">BPM</label>
                <div class="bpm-controls">
                    <input
                        type="range"
                        id="bpm-slider"
                        min="20"
                        max="240"
                        value="120"
                        step="1"
                    >
                    <input
                        type="number"
                        id="bpm-input"
                        min="20"
                        max="240"
                        value="120"
                    >
                </div>
            </section>

            <!-- Time Signature Section -->
            <section class="time-signature-section">
                <label for="time-signature">Time Signature</label>
                <select id="time-signature">
                    <option value="2/4">2/4</option>
                    <option value="3/4">3/4</option>
                    <option value="4/4" selected>4/4</option>
                    <option value="5/4">5/4</option>
                    <option value="6/8">6/8</option>
                    <option value="7/8">7/8</option>
                </select>
            </section>

            <!-- Sound Selection Section -->
            <section class="sound-section">
                <label for="sound-selector">Click Sound</label>
                <select id="sound-selector">
                    <option value="classic" selected>Classic Beep</option>
                    <option value="woodblock">Wood Block</option>
                    <option value="digital">Digital Click</option>
                    <option value="soft">Soft Tone</option>
                    <option value="stick">Stick Click</option>
                </select>
            </section>

            <!-- Beat Grid Visualization -->
            <section class="beat-grid-section">
                <div id="beat-grid" class="beat-grid">
                    <!-- Beat boxes will be generated by JavaScript -->
                </div>
            </section>

            <!-- Loop Pattern Section -->
            <section class="loop-section">
                <label class="loop-header">
                    <input type="checkbox" id="loop-toggle">
                    Loop Pattern
                </label>
                <div class="loop-controls">
                    <label>
                        Sound Bars
                        <input type="number" id="sound-bars" min="1" max="16" value="4">
                    </label>
                    <label>
                        Mute Bars
                        <input type="number" id="mute-bars" min="1" max="16" value="2">
                    </label>
                </div>
                <div id="bar-counter" class="bar-counter">Bar 1</div>
            </section>

            <!-- Transport Controls -->
            <section class="transport-section">
                <button id="play-stop-btn" class="play-stop-btn">
                    <span class="play-icon">▶</span>
                    <span class="stop-icon" style="display: none;">⏸</span>
                </button>
            </section>
        </main>
    </div>

    <script src="metronome.js"></script>
    <script src="ui.js"></script>
</body>
</html>
